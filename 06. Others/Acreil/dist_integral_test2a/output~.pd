#N canvas 40 145 836 625 10;
#X obj 482 508 t b;
#X obj 482 455 f;
#X obj 482 533 f;
#X msg 596 532 0;
#X obj 482 485 moses 1;
#X obj 596 504 t b f;
#X obj 562 465 moses 1;
#X obj -15 222 dbtorms;
#X obj 34 241 inlet~;
#X obj 20 310 *~;
#X obj 107 529 dac~;
#X text 146 235 audio in;
#X obj 214 245 inlet~;
#X obj 198 309 *~;
#X text 502 396 MUTE logic:;
#X obj 482 559 s \$0-master-lvl;
#X obj -15 203 r \$0-master-out;
#X obj 562 438 r \$0-master-out;
#X obj 19 508 outlet~;
#X obj 199 508 outlet~;
#X obj 482 428 r \$0-mute;
#X obj 301 188 cnv 15 65 53 empty empty output~ 1 5 0 10 -232960 -1
0;
#X floatatom 317 202 3 0 100 0 dB #0-master-lvl #0-master-out;
#X obj 348 202 bng 16 250 50 0 \$0-mute \$0-nothing m -8 7 0 10 -262144
-1 -1;
#X obj 431 533 r initg;
#X obj 214 264 hip~ 10;
#X obj 122 415 *~ 0;
#X obj 167 415 *~ 0;
#X obj 304 220 hradio 10 1 0 6 \$0-mode \$0-mode_ n/x/m/s/l/r -3 16
0 10 -262144 -1 -1 0;
#X obj 165 131 loadbang;
#X obj 165 150 f \$0;
#X msg 165 169 \; \$1-mode_ 0 \;;
#X obj 143 356 r \$0-mode;
#X obj 143 375 == 1;
#X obj 50 379 r \$0-mode;
#X text -54 555 outs for recording \, remember these are filtered \,
but they're not affected by the mode setting;
#X obj -15 241 lop~ 10;
#X text 143 335 crossfeed;
#X obj 55 432 *~ 1;
#X obj 86 432 *~ 1;
#X obj 107 486 +~;
#X obj 131 486 +~;
#X obj 50 398 < 2;
#X obj 239 407 +~;
#X text 58 357 normal;
#X obj 345 257 r \$0-mode;
#X obj 143 394 * 0.25;
#X obj 345 314 * -2;
#X obj 345 333 + 1;
#X obj 345 295 == 3;
#X obj 410 318 f 0;
#X obj 447 317 f 0.6;
#X obj 466 337 f 1.4;
#X obj 410 293 route 0 1 2 3 4 5;
#X obj 487 317 f 1;
#X obj 345 371 *;
#X obj 410 354 t f;
#X obj 211 388 *~ 0;
#X obj 254 388 *~ 0;
#X obj 345 276 t f f f;
#X obj 375 296 != 4;
#X obj 345 352 *;
#X obj 232 312 *;
#X obj 232 293 != 5;
#X text 4 15 Adapted from Pd abstraction. Global setting "initg" can
be used to set initial gain. Mode radio buttons are: normal stereo
\, crossfeed stereo (slightly reduced stereo width) \, mono \, side
(difference between two channels) \, left channel \, right channel.
;
#X obj 430 117 r initmode;
#X obj 430 136 s \$0-mode_;
#X text 437 21 global messages: initmode and initg to set initial parameters
;
#X obj 34 260 hip~ 10;
#N canvas 332 633 450 300 filt1 0;
#X obj 109 45 inlet~;
#X obj 223 45 inlet~;
#X obj 109 64 lop~ 6000;
#X obj 223 64 lop~ 6000;
#X obj 109 83 delwrite~ \$0-d1 10;
#X obj 223 83 delwrite~ \$0-d2 10;
#X obj 109 102 outlet~;
#X obj 223 102 outlet~;
#X connect 0 0 2 0;
#X connect 1 0 3 0;
#X connect 2 0 4 0;
#X connect 3 0 5 0;
#X restore 122 434 pd filt1;
#N canvas 367 501 450 300 filt2 0;
#X obj 60 8 inlet~;
#X obj 180 8 inlet~;
#X obj 60 46 outlet~;
#X obj 180 46 outlet~;
#X obj 60 27 delread~ \$0-d1 0.26;
#X obj 180 27 delread~ \$0-d2 0.26;
#X connect 4 0 2 0;
#X connect 5 0 3 0;
#X restore 122 453 pd filt2;
#X text 416 185 max iatd = 0.53 ms for 180 degree speaker placement
\, and 0.26 ms for 60 degree speaker placement. I might also want to
fudge the gain \, 0.8 to 0.9;
#X connect 0 0 2 0;
#X connect 1 0 4 0;
#X connect 2 0 15 0;
#X connect 3 0 15 0;
#X connect 4 0 0 0;
#X connect 4 1 5 0;
#X connect 5 0 3 0;
#X connect 6 1 2 1;
#X connect 7 0 36 0;
#X connect 8 0 68 0;
#X connect 9 0 18 0;
#X connect 9 0 26 0;
#X connect 9 0 38 0;
#X connect 9 0 57 0;
#X connect 12 0 25 0;
#X connect 13 0 19 0;
#X connect 13 0 27 0;
#X connect 13 0 39 0;
#X connect 13 0 58 0;
#X connect 16 0 7 0;
#X connect 17 0 1 1;
#X connect 17 0 6 0;
#X connect 20 0 1 0;
#X connect 24 0 15 0;
#X connect 25 0 13 1;
#X connect 26 0 69 0;
#X connect 27 0 69 1;
#X connect 29 0 30 0;
#X connect 30 0 31 0;
#X connect 32 0 33 0;
#X connect 33 0 46 0;
#X connect 34 0 42 0;
#X connect 36 0 13 0;
#X connect 36 0 9 0;
#X connect 38 0 40 0;
#X connect 39 0 41 0;
#X connect 40 0 10 0;
#X connect 41 0 10 1;
#X connect 42 0 38 1;
#X connect 42 0 39 1;
#X connect 43 0 10 1;
#X connect 43 0 10 0;
#X connect 45 0 59 0;
#X connect 46 0 26 1;
#X connect 46 0 27 1;
#X connect 47 0 48 0;
#X connect 48 0 61 0;
#X connect 49 0 47 0;
#X connect 50 0 56 0;
#X connect 51 0 56 0;
#X connect 52 0 56 0;
#X connect 53 0 50 0;
#X connect 53 1 50 0;
#X connect 53 2 51 0;
#X connect 53 3 52 0;
#X connect 53 4 54 0;
#X connect 53 5 54 0;
#X connect 54 0 56 0;
#X connect 55 0 58 1;
#X connect 56 0 55 1;
#X connect 56 0 62 1;
#X connect 57 0 43 0;
#X connect 58 0 43 1;
#X connect 59 0 49 0;
#X connect 59 1 60 0;
#X connect 59 1 63 0;
#X connect 59 2 53 0;
#X connect 60 0 61 1;
#X connect 61 0 55 0;
#X connect 62 0 57 1;
#X connect 63 0 62 0;
#X connect 65 0 66 0;
#X connect 68 0 9 1;
#X connect 69 0 70 0;
#X connect 69 1 70 1;
#X connect 70 0 40 1;
#X connect 70 1 41 1;
#X coords 0 0 1 1 67 59 1 300 185;
