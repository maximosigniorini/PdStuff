#N canvas 24 126 1201 694 10;
#X obj 33 35 inlet;
#X obj 202 42 inlet~;
#X text 193 24 j_detune (-1 \, 1);
#X text 33 19 input frequency \, Hz;
#X obj 72 591 phasor~;
#X obj 72 610 outlet~;
#X obj 93 73 loadbang;
#X obj 93 92 samplerate~;
#X obj 147 73 init;
#X obj 93 111 s \$1-sample_rate;
#X obj 33 147 int;
#X obj 33 90 t b f;
#X obj 33 109 /;
#X text 21 145 n;
#X obj 33 181 t f f;
#X obj 60 202 + 1;
#X obj 60 221 * -1;
#X obj 33 128 t f f;
#X obj 33 200 /;
#X obj 33 219 - 1;
#X obj 33 238 *;
#X text 21 237 D;
#X obj 587 42 log;
#X obj 678 25 log;
#X obj 678 44 t b f;
#X obj 587 61 -;
#X obj 554 118 random;
#X obj 526 -15 r \$1-lambda;
#X obj 551 99 t b f;
#X obj 587 99 * 1e+006;
#X obj 554 137 * 1e-006;
#X obj 554 175 +;
#X obj 554 213 exp;
#X obj 554 194 * -1;
#X obj 73 255 * -1;
#X obj 73 274 + 1;
#X obj 411 255 *;
#X obj 411 230 t b f;
#X obj 477 255 *;
#X obj 477 230 t b f;
#X obj 411 274 * 1000;
#X obj 477 274 * 1000;
#X obj 554 156 line 0 200;
#X obj 501 -34 r \$1-enable;
#X obj 354 420 f 0;
#X obj 420 361 f 1;
#X obj 93 463 t b f;
#X obj 93 482 +;
#X obj 354 401 spigot;
#X obj 559 289 random 1e+006;
#X obj 559 308 * 1e-006;
#X obj 559 327 t b f;
#X obj 559 346 >;
#X obj 559 365 spigot;
#X text 397 98 modulation rate generator;
#X text 424 213 periodic modulator;
#X text 621 231 random modulator;
#X obj 592 346 r \$1-noise_mod;
#X obj 354 420 spigot;
#X obj 749 403 &&;
#X obj 749 384 t b f;
#X obj 749 365 r \$1-enable;
#X obj 202 80 +~ 1;
#X text 236 60 linear approximation of 2^(in/1200);
#X obj 294 25 r \$1-j_detune;
#X obj 294 44 * 0.000577;
#X obj 202 61 *~ 0;
#X obj 749 479 spigot;
#X obj 190 219 /;
#X text 214 218 A;
#X obj 266 217 r \$1-e_tol;
#X text 332 217 C;
#X obj 227 217 t b f;
#X obj 227 236 f 1;
#X obj 227 255 /;
#X text 251 255 B;
#X obj 175 272 min;
#X obj 266 274 t b f;
#X obj 175 291 >;
#X obj 227 443 >;
#X text 730 345 modulation enable logic;
#X text 185 200 tolerable error threshold;
#X obj 354 323 delay 1000;
#X obj 420 323 delay 1000;
#X obj 587 80 abs;
#X obj 587 23 max 0.0001;
#X obj 678 6 max 0.0001;
#X text 235 74 this is close enough within 100 cents;
#X obj 420 342 spigot;
#X obj 354 230 t b f;
#X obj 354 249 spigot;
#X obj 354 360 f 0;
#X obj 72 572 *~ 0;
#X obj 93 520 /;
#X obj 93 501 t b f;
#X obj 587 4 r \$1-rate_high;
#X obj 678 -13 r \$1-rate_low;
#X obj 749 460 f;
#X obj 749 441 t b f;
#X obj 584 194 exp;
#X obj 411 293 max 1;
#X obj 477 293 max 1;
#X obj 779 420 outlet;
#X text 792 437 1 if modulation enabled;
#X obj 228 143 r \$1-noise_mod;
#X obj 228 162 == 0;
#X obj 592 384 == 0;
#X obj 749 422 == 0;
#X obj 318 141 t b f;
#X obj 318 160 &&;
#X obj 318 122 r \$1-enable;
#X obj 354 160 t b f;
#X obj 354 179 &&;
#X obj 354 141 r \$1-enable;
#X obj 93 35 r \$1-e_tol;
#X obj 93 54 t b;
#X obj 354 341 spigot;
#X obj 501 42 pois;
#X obj 559 232 pois;
#X text 711 568 Contact: limina@live.com.;
#X text 711 550 Scott Nordlund \, 2012;
#X text 244 547 Message-controlled version of frequency dithered phasor.
Since frequency changes discontinuously \, message control is adequate.
As a result it's pretty cheap. However \, if the modulation frequencies
are high \, rapid calculation of messages can become computationally
intensive. The j_detune inlet is for continuous detuning. This prevents
phase lock between multiple oscillators \, but adds jitter to the output
\, which is audible even in small amounts.;
#X obj 891 280 f \$2;
#X obj 891 261 loadbang;
#X obj 891 299 sel 0;
#X obj 891 318 f 1;
#X text 914 238 pre-scale;
#X obj 33 62 *;
#X obj 93 553 /;
#X obj 891 337 s \$0-fscale;
#X obj 48 5 r \$0-fscale;
#X obj 119 536 r \$0-fscale;
#X text 761 59 Use a second creation argument to specify the "constant
period span". For playing back samples with multiple waveform periods
\, it's desirable that each period (i.e. each divided portion of the
phasor) have a constant number of samples. Similarly \, for improved
frequency resolution (at the expense of possible sub-harmonics) \,
it's possible to maintain a constant number of samples over multiple
periods. The second creation argument can specify the number of constant-period
phasor subdivisions. When playing a wavetable sample with 4 periods
\, use a creation argument of 4 Or \, to improve frequency resolution
(at the expense of subharmonics) \, use a fractional creation argument
like 0.5 or 0.25.;
#X obj 875 239 inlet;
#X obj 1014 242 inlet;
#X text 1052 239 phase reset;
#X text 712 587 Last revised: 04.26.2012;
#X connect 0 0 127 0;
#X connect 1 0 66 0;
#X connect 4 0 5 0;
#X connect 6 0 7 0;
#X connect 7 0 9 0;
#X connect 7 0 12 0;
#X connect 7 0 93 0;
#X connect 8 0 7 0;
#X connect 10 0 14 0;
#X connect 10 0 47 0;
#X connect 11 0 12 0;
#X connect 11 1 12 1;
#X connect 12 0 17 0;
#X connect 14 0 18 0;
#X connect 14 1 15 0;
#X connect 15 0 16 0;
#X connect 15 0 68 0;
#X connect 16 0 20 1;
#X connect 17 0 10 0;
#X connect 17 1 18 1;
#X connect 17 1 68 1;
#X connect 18 0 19 0;
#X connect 18 0 72 0;
#X connect 19 0 20 0;
#X connect 20 0 34 0;
#X connect 20 0 36 0;
#X connect 20 0 52 0;
#X connect 22 0 25 0;
#X connect 23 0 24 0;
#X connect 24 0 25 0;
#X connect 24 1 25 1;
#X connect 24 1 31 1;
#X connect 25 0 84 0;
#X connect 26 0 30 0;
#X connect 27 0 117 1;
#X connect 28 0 26 0;
#X connect 28 1 42 1;
#X connect 29 0 26 1;
#X connect 30 0 42 0;
#X connect 31 0 33 0;
#X connect 31 0 99 0;
#X connect 32 0 37 0;
#X connect 32 0 39 0;
#X connect 33 0 32 0;
#X connect 34 0 35 0;
#X connect 35 0 38 0;
#X connect 36 0 40 0;
#X connect 37 0 36 0;
#X connect 37 1 36 1;
#X connect 38 0 41 0;
#X connect 39 0 38 0;
#X connect 39 1 38 1;
#X connect 40 0 100 0;
#X connect 41 0 101 0;
#X connect 42 0 31 0;
#X connect 43 0 117 0;
#X connect 45 0 48 0;
#X connect 46 0 47 0;
#X connect 46 1 47 1;
#X connect 47 0 94 0;
#X connect 48 0 58 0;
#X connect 49 0 50 0;
#X connect 50 0 51 0;
#X connect 51 0 52 0;
#X connect 51 1 52 1;
#X connect 52 0 53 0;
#X connect 53 0 58 0;
#X connect 57 0 53 1;
#X connect 57 0 106 0;
#X connect 58 0 46 0;
#X connect 59 0 58 1;
#X connect 59 0 102 0;
#X connect 59 0 107 0;
#X connect 60 0 59 0;
#X connect 60 1 59 1;
#X connect 61 0 60 0;
#X connect 62 0 92 0;
#X connect 64 0 65 0;
#X connect 65 0 66 1;
#X connect 66 0 62 0;
#X connect 67 0 46 0;
#X connect 68 0 76 1;
#X connect 68 0 79 1;
#X connect 70 0 77 0;
#X connect 72 0 73 0;
#X connect 72 1 74 1;
#X connect 73 0 74 0;
#X connect 74 0 76 0;
#X connect 74 0 79 0;
#X connect 76 0 78 0;
#X connect 77 0 78 0;
#X connect 77 1 78 1;
#X connect 78 0 59 0;
#X connect 79 0 97 0;
#X connect 82 0 83 0;
#X connect 82 0 116 0;
#X connect 83 0 82 0;
#X connect 83 0 88 0;
#X connect 84 0 29 0;
#X connect 85 0 22 0;
#X connect 86 0 23 0;
#X connect 88 0 45 0;
#X connect 89 0 90 0;
#X connect 89 1 90 1;
#X connect 90 0 82 0;
#X connect 91 0 48 0;
#X connect 92 0 4 0;
#X connect 93 0 128 0;
#X connect 94 0 93 0;
#X connect 94 1 93 1;
#X connect 95 0 85 0;
#X connect 96 0 86 0;
#X connect 97 0 67 0;
#X connect 98 0 97 0;
#X connect 98 1 67 1;
#X connect 99 0 118 1;
#X connect 100 0 82 1;
#X connect 101 0 83 1;
#X connect 104 0 105 0;
#X connect 104 0 109 0;
#X connect 105 0 112 0;
#X connect 106 0 48 1;
#X connect 107 0 98 0;
#X connect 108 0 109 0;
#X connect 108 1 109 1;
#X connect 109 0 118 0;
#X connect 110 0 108 0;
#X connect 111 0 112 0;
#X connect 111 1 112 1;
#X connect 112 0 89 0;
#X connect 112 0 88 1;
#X connect 112 0 116 1;
#X connect 113 0 111 0;
#X connect 114 0 115 0;
#X connect 115 0 7 0;
#X connect 116 0 91 0;
#X connect 117 1 28 0;
#X connect 118 0 49 0;
#X connect 122 0 124 0;
#X connect 123 0 122 0;
#X connect 124 0 125 0;
#X connect 124 1 129 0;
#X connect 125 0 129 0;
#X connect 127 0 11 0;
#X connect 128 0 92 1;
#X connect 130 0 127 1;
#X connect 131 0 128 1;
#X connect 133 0 122 0;
#X connect 134 0 4 1;
