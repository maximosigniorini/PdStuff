#N canvas 1153 430 364 306 10;
#N canvas 186 221 1150 865 pdp_capture 0;
#X obj 19 60 r vpdp_thread;
#X msg 24 101 thread \$1;
#X obj 22 147 pdp_control;
#X obj 500 99 cnv 15 330 240 empty empty PDP_Capture 110 12 0 16 -99865
-262144 0;
#X obj 512 127 tgl 20 0 vpdp_capture_on empty Capture 22 8 0 12 -260097
-262144 -228856 0 1;
#X obj 508 177 cnv 15 100 65 empty empty Device 2 12 0 14 -191407 -66577
0;
#X symbolatom 510 222 15 0 0 0 - vpdp_device2 -;
#X obj 614 247 cnv 15 100 65 empty empty Norm 2 12 0 14 -191407 -66577
0;
#X obj 508 247 cnv 15 100 65 empty empty Format 2 12 0 14 -191407 -66577
0;
#X symbolatom 620 291 10 0 0 0 - vpdp_norm2 -;
#X symbolatom 511 288 10 0 0 0 - vpdp_format2 -;
#X obj 719 177 cnv 15 100 45 empty empty Input 2 12 0 14 -191407 -66577
0;
#X symbolatom 761 201 8 0 0 0 - vpdp_input2 -;
#X obj 719 227 cnv 15 100 85 empty empty Dimensions 2 12 0 14 -191407
-66577 0;
#X obj 722 249 vradio 15 1 0 2 vpdp_dim vpdp_dim_init empty 0 -8 0
10 -262144 -1 -1 0;
#X text 737 246 320x240;
#X text 738 262 640x480;
#X obj 722 198 nbx 2 20 0 8 0 0 vpdp_input vpdp_input_init empty 0
-8 0 12 -262144 -1 -1 0 256;
#X obj 723 288 nbx 3 15 0 1080 0 0 vpdp_dimx3 vpdp_dimx2 empty 0 -8
0 12 -262144 -1 -1 320 256;
#X obj 770 288 nbx 3 15 0 1080 0 0 vpdp_dimy3 vpdp_dimy2 empty 0 -8
0 12 -262144 -1 -1 240 256;
#X obj 516 155 tgl 15 0 vpdp_thread empty Thread 17 7 0 10 -228856
-1 -228856 0 1;
#N canvas 8 88 1891 1050 pdp_capture_core 0;
#X obj 505 37 r vpdp_input;
#X obj 442 902 r vpdp_device2;
#X obj 299 356 r vpdp_driver2;
#X obj 642 1457 pdp_v4l;
#X obj 1133 1365 pdp_v4l2;
#X obj 299 495 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 381 498 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 468 500 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 299 451 select v4l v4l2 ieee1394;
#X obj 318 600 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 299 536 1;
#X msg 331 537 0;
#X obj 393 599 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 485 601 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 377 538 1;
#X msg 409 539 0;
#X msg 453 540 1;
#X msg 485 541 0;
#X msg 445 1015 open /dev/video0;
#X msg 442 942 set open \$1;
#X obj 130 35 r vpdp_device;
#X obj 87 86 select 0 1 2 3;
#X obj 60 124 symbol /dev/video0;
#X obj 48 269 s vpdp_device2;
#X obj 78 153 symbol /dev/video1;
#X obj 101 183 symbol /dev/dv1394/0;
#X obj 108 223 symbol /dev/dv1394/1;
#X text 4 137 comment;
#X text 46 61 adapt to your system;
#X obj 285 150 select 0 1 2;
#X obj 284 38 r vpdp_driver;
#X obj 281 283 s vpdp_driver2;
#X msg 296 210 symbol v4l2;
#X msg 268 187 symbol v4l;
#X msg 347 185 symbol ieee1394;
#X obj 509 190 s vpdp_input2;
#X msg 506 163 symbol input\$1;
#X text 489 79 depends of camera model;
#X obj 775 36 r vpdp_format;
#X obj 778 101 select 0 1 2 3;
#X msg 770 160 symbol MJPEG;
#X obj 795 185 symbol YUV;
#X obj 787 257 s vpdp_format2;
#X text 744 67 depends of camera model;
#X obj 932 33 r vpdp_norm;
#X obj 933 99 select 0 1 2 3;
#X msg 923 171 symbol Auto;
#X msg 948 193 symbol PAL;
#X msg 971 218 symbol NTSC;
#X msg 995 241 symbol SECAM;
#X obj 954 278 s vpdp_norm2;
#X text 906 68 depends of camera model;
#X obj 1121 32 r vpdp_dim;
#X obj 1124 68 select 0 1;
#X msg 1118 166 320;
#X obj 1117 227 s vpdp_dimx2;
#X msg 1145 170 240;
#X msg 1184 170 640;
#X msg 1223 172 480;
#X obj 1222 226 s vpdp_dimy2;
#X obj 129 1139 r vpdp_norm2;
#X msg 129 1166 set norm \$1;
#X msg 137 1216 norm Auto;
#X obj 122 1330 r vpdp_input;
#X msg 122 1359 set channel \$1;
#X msg 200 1394 channel 0;
#X text 213 1297 <-read v4l help;
#X obj 123 1439 r vpdp_dimx2;
#X obj 209 1439 r vpdp_dimy2;
#X obj 157 1478 pack float float;
#X msg 216 1546 dim 320 240;
#X msg 157 1508 set dim \$1 \$2;
#X msg 1528 1220 input 0;
#X msg 1526 1183 set input \$1;
#X obj 126 1294 r vpdp_format;
#X obj 1391 1146 r vpdp_format;
#X msg 1445 1215 format 1;
#X msg 1391 1180 set format \$1;
#X obj 1526 1140 r vpdp_input;
#X msg 1316 1214 standard 0;
#X obj 1237 1146 r vpdp_norm;
#X msg 1237 1173 set standard \$1;
#X obj 1754 1150 r vpdp_dimx2;
#X obj 1894 1156 r vpdp_dimy2;
#X obj 1788 1189 pack float float;
#X msg 1898 1244 dim 320 240;
#X msg 1788 1219 set dim \$1 \$2;
#X obj 622 366 r vpdp_capture_on;
#X obj 705 421 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 635 462 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X floatatom 676 471 5 0 0 0 - - -;
#X obj 212 768 spigot;
#X msg 342 1153 open /dev/video0;
#X obj 346 775 spigot;
#X msg 789 1013 open /dev/video0;
#X obj 1124 1039 metro 40;
#X msg 1064 997 stop;
#X msg 1124 1000 bang;
#X text 340 402 DRIVER FILTER;
#X obj 652 515 select 0 1;
#X obj 628 569 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 751 563 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 1016 997 close;
#X text 752 420 START/STOP CAPTURE;
#X obj 733 577 s vpdp_start_capture;
#X obj 626 601 s vpdp_stop_capture;
#X obj 1334 1062 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 210 688 r vpdp_start_capture;
#X text 441 886 DEVICE;
#X obj 1334 965 r vpdp_apply_settingsv4l2;
#X obj 853 1063 s vpdp_apply_settingsv4l2;
#X obj 569 687 r vpdp_apply_settings;
#X obj 463 782 spigot;
#X text 290 600 v4l;
#X text 363 597 v4l2;
#X obj 556 781 spigot;
#X obj 559 817 s vpdp_apply_settingsv4l2;
#X obj 393 818 s vpdp_apply_settingsv4l;
#X obj 1340 228 s vpdp_dim3;
#X obj 1449 227 s vpdp_dim3;
#X msg 1318 178 dim 320 240;
#X obj 1130 1438 s vpdp_video_out;
#X text 1805 1116 funcona be?;
#X text 1103 917 START/STOP CAPTURE v4l2;
#X text 486 1139 START/STOP CAPTURE v4l;
#X obj 460 1189 s vpdp_apply_settingsv4l;
#X obj 11 1077 r vpdp_apply_settingsv4l;
#X text 638 1140 FALTA PROVAR;
#X obj 16 1115 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 971 956 r vpdp_stop_capturev4l2;
#X obj 1131 954 r vpdp_start_capturev4l2;
#X obj 854 770 spigot;
#X obj 849 691 r vpdp_stop_capture;
#X obj 1102 691 r vpdp_start_capture;
#X obj 916 771 spigot;
#X obj 917 804 s vpdp_stop_capturev4l2;
#X obj 858 832 s vpdp_stop_capturev4l;
#X obj 1103 765 spigot;
#X obj 1165 766 spigot;
#X obj 1103 826 s vpvp_start_capturev4l;
#X obj 1165 804 s vpdp_start_capturev4l2;
#X msg 1444 183 dim 640 480;
#X obj 1296 1419 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 1292 1391 spigot;
#X obj 1386 1368 r vpdp_monitor_out_on;
#X obj 1343 1458 s vpdp_monitor_out;
#X connect 0 0 36 0;
#X connect 1 0 19 0;
#X connect 2 0 8 0;
#X connect 4 0 121 0;
#X connect 4 0 143 0;
#X connect 5 0 10 0;
#X connect 5 0 11 0;
#X connect 6 0 14 0;
#X connect 6 0 15 0;
#X connect 7 0 16 0;
#X connect 7 0 17 0;
#X connect 8 0 5 0;
#X connect 8 1 6 0;
#X connect 8 2 7 0;
#X connect 9 0 91 1;
#X connect 9 0 112 1;
#X connect 9 0 131 1;
#X connect 9 0 137 0;
#X connect 10 0 9 0;
#X connect 11 0 12 0;
#X connect 11 0 13 0;
#X connect 12 0 93 1;
#X connect 12 0 115 1;
#X connect 12 0 134 1;
#X connect 12 0 138 1;
#X connect 14 0 12 0;
#X connect 15 0 13 0;
#X connect 15 0 9 0;
#X connect 16 0 13 0;
#X connect 17 0 12 0;
#X connect 17 0 9 0;
#X connect 19 0 18 0;
#X connect 19 0 94 0;
#X connect 19 0 92 0;
#X connect 20 0 21 0;
#X connect 21 0 22 0;
#X connect 21 1 24 0;
#X connect 21 2 25 0;
#X connect 21 3 26 0;
#X connect 22 0 23 0;
#X connect 24 0 23 0;
#X connect 25 0 23 0;
#X connect 26 0 23 0;
#X connect 29 0 33 0;
#X connect 29 1 32 0;
#X connect 29 2 34 0;
#X connect 30 0 29 0;
#X connect 32 0 31 0;
#X connect 33 0 31 0;
#X connect 34 0 31 0;
#X connect 36 0 35 0;
#X connect 38 0 39 0;
#X connect 39 0 40 0;
#X connect 39 1 41 0;
#X connect 40 0 42 0;
#X connect 41 0 42 0;
#X connect 44 0 45 0;
#X connect 45 0 46 0;
#X connect 45 1 47 0;
#X connect 45 2 48 0;
#X connect 45 3 49 0;
#X connect 46 0 50 0;
#X connect 47 0 50 0;
#X connect 48 0 50 0;
#X connect 49 0 50 0;
#X connect 52 0 53 0;
#X connect 53 0 54 0;
#X connect 53 0 56 0;
#X connect 53 0 120 0;
#X connect 53 1 57 0;
#X connect 53 1 58 0;
#X connect 53 1 141 0;
#X connect 54 0 55 0;
#X connect 56 0 59 0;
#X connect 57 0 55 0;
#X connect 58 0 59 0;
#X connect 60 0 61 0;
#X connect 61 0 62 0;
#X connect 62 0 3 0;
#X connect 63 0 64 0;
#X connect 64 0 65 0;
#X connect 65 0 3 0;
#X connect 67 0 69 0;
#X connect 68 0 69 1;
#X connect 69 0 71 0;
#X connect 70 0 3 0;
#X connect 71 0 70 0;
#X connect 72 0 4 0;
#X connect 73 0 72 0;
#X connect 75 0 77 0;
#X connect 76 0 4 0;
#X connect 77 0 76 0;
#X connect 78 0 73 0;
#X connect 79 0 4 0;
#X connect 80 0 81 0;
#X connect 81 0 79 0;
#X connect 82 0 84 0;
#X connect 83 0 84 1;
#X connect 84 0 86 0;
#X connect 85 0 4 0;
#X connect 86 0 85 0;
#X connect 87 0 88 0;
#X connect 87 0 89 0;
#X connect 89 0 90 0;
#X connect 89 0 99 0;
#X connect 91 0 92 0;
#X connect 92 0 3 0;
#X connect 92 0 125 0;
#X connect 93 0 94 0;
#X connect 94 0 4 0;
#X connect 94 0 110 0;
#X connect 95 0 4 0;
#X connect 96 0 95 0;
#X connect 97 0 95 0;
#X connect 99 0 100 0;
#X connect 99 0 105 0;
#X connect 99 1 101 0;
#X connect 99 1 104 0;
#X connect 102 0 4 0;
#X connect 106 0 76 0;
#X connect 106 0 72 0;
#X connect 106 0 79 0;
#X connect 106 0 84 0;
#X connect 107 0 93 0;
#X connect 107 0 91 0;
#X connect 109 0 106 0;
#X connect 111 0 115 0;
#X connect 111 0 112 0;
#X connect 112 0 117 0;
#X connect 115 0 116 0;
#X connect 120 0 118 0;
#X connect 126 0 128 0;
#X connect 128 0 62 0;
#X connect 128 0 65 0;
#X connect 128 0 69 0;
#X connect 129 0 102 0;
#X connect 129 0 96 0;
#X connect 130 0 97 0;
#X connect 131 0 136 0;
#X connect 132 0 131 0;
#X connect 132 0 134 0;
#X connect 133 0 137 0;
#X connect 133 0 138 0;
#X connect 134 0 135 0;
#X connect 137 0 139 0;
#X connect 138 0 140 0;
#X connect 141 0 119 0;
#X connect 142 0 145 0;
#X connect 143 0 142 0;
#X connect 144 0 143 1;
#X restore 41 242 pd pdp_capture_core;
#N canvas 659 727 886 298 pdp_default_settings 0;
#X obj 22 22 loadbang;
#X text 188 134 Driver;
#X text 74 133 Device;
#X obj 132 53 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 154 134 1;
#X msg 282 128 0;
#X text 313 130 Input;
#X text 436 130 Format;
#X msg 518 131 0;
#X text 552 130 Norm;
#X msg 630 132 0;
#X text 665 124 Dimensions;
#X text 665 137 comment;
#X obj 23 173 s vpdp_device_init;
#X obj 154 170 s vpdp_driver_init;
#X obj 282 168 s vpdp_input_init;
#X obj 402 171 s vpdp_format_init;
#X obj 518 171 s vpdp_norm_init;
#X obj 630 170 s vpdp_dim_init;
#X msg 23 127 0;
#X obj 106 24 r vpdp_defaults;
#X msg 402 131 1;
#X text 188 41 load pdp_defaults;
#X connect 0 0 3 0;
#X connect 3 0 19 0;
#X connect 3 0 4 0;
#X connect 3 0 5 0;
#X connect 3 0 21 0;
#X connect 3 0 8 0;
#X connect 3 0 10 0;
#X connect 4 0 14 0;
#X connect 5 0 15 0;
#X connect 8 0 17 0;
#X connect 10 0 18 0;
#X connect 19 0 13 0;
#X connect 20 0 3 0;
#X connect 21 0 16 0;
#X restore 33 186 pd pdp_default_settings;
#X obj 704 130 bng 15 250 50 0 vpdp_defaults empty Load_Defaults 17
7 0 10 -228856 -1 -228856;
#X obj 593 127 bng 15 250 50 0 vpdp_apply_settings empty Apply_settings
17 7 0 10 -260097 -1 -228856;
#X obj 47 382 outlet;
#X obj 44 333 r vpdp_video_out;
#X text 62 39 comment;
#X text 102 516 TODO: -Provar v4l. -Agafar dades de la camera al iniciar??
-Arreglar dimensions. -Obrir mes d'un device?;
#X obj 501 318 cnv 15 65 20 empty empty VIDEO_OUT 0 10 0 12 -221249
-262144 0;
#X obj 513 199 hradio 15 1 0 4 vpdp_device vpdp_device_init empty 0
-8 0 10 -262144 -1 -1 0;
#X obj 619 268 hradio 15 1 0 4 vpdp_norm vpdp_norm_init empty 0 -8
0 10 -262144 -1 -1 0;
#X obj 511 268 hradio 15 1 0 4 vpdp_format vpdp_format_init empty 0
-8 0 10 -262144 -1 -1 1;
#X obj 614 177 cnv 15 100 65 empty empty Driver 2 12 0 14 -191407 -66577
0;
#X symbolatom 619 221 10 0 0 2 - vpdp_driver2 -;
#X obj 618 199 hradio 15 1 0 3 vpdp_driver vpdp_driver_init empty 0
-8 0 10 -262144 -1 -1 1;
#X obj 705 152 bng 15 250 50 0 empty empty Change_Defaults 17 7 0 10
-228856 -1 -228856;
#X obj 592 151 tgl 15 0 vpdp_monitor_out_on empty Monitor_led 17 7
0 10 -228856 -1 -228856 0 1;
#X obj 571 320 bng 15 250 50 0 empty vpdp_monitor_out empty 17 7 0
10 -128992 -258113 -1;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 26 0 25 0;
#X coords 0 -1 1 1 330 240 1 499 99;
#X restore 0 -198 pd pdp_capture;
