#N canvas 90 57 1167 636 10;
#X obj 139 5 inlet;
#X obj 183 5 inlet~;
#X obj 290 8 inlet;
#X obj 344 8 inlet~;
#X obj 155 63 wrap~;
#X obj 140 157 -~;
#X obj 155 44 *~ 256;
#X obj 155 82 /~ 256;
#X obj 126 528 *~;
#X obj 141 471 *~;
#X obj 170 455 samphold~;
#X obj 199 388 wrap~;
#X obj 184 407 -~;
#X obj 184 217 /~ 1;
#X obj 290 217 / 2;
#X obj 290 236 int;
#X obj 126 547 outlet~;
#X text 49 -14 oscillator frequency;
#X text 163 -31 cutoff frequency;
#X text 274 -11 resolution;
#X obj 290 65 int;
#X text -84 347 Contact: limina@live.com.;
#X text -84 329 Scott Nordlund \, 2012;
#X obj 290 46 f \$3;
#X obj 290 27 loadbang;
#X obj 239 103 -;
#X obj 239 122 abs;
#X obj 239 141 >= 0.5;
#X obj 239 84 ftom;
#X obj 170 474 expr~ if($v1==$f2 \, 0 \, -0.25);
#X obj 141 490 +~;
#X obj 139 25 dphasor1~ \$1 \$4;
#X obj 184 293 wrap~;
#X text 336 55 Low resolution pseudo-resonant filter using windowed
sine sync \, similar to the resonant waveforms in the Casio CZ synthesizers.
Window shape smoothly transforms from descending sawtooth (1) to Hann
window (0) to ascending sawtooth (-1). Values outside of this range
can also be used for more aggressive effects. Cutoff frequency is quantized
to harmonics of the fundamental frequency \, and changes only at the
beginning of each period. Extreme parameter values can produce extreme
effects!;
#X text 369 434 arguments: 1: name of dphasor1 control panel 2: restrict
upper cutoff frequency to (resolution/2 - 1) (1 for limit \, 0 for
no limit \, default 1) 3: default resolution (steps per period) \,
4: prescale (see dphasor1~ patch);
#X obj 184 236 abs~;
#X obj 397 217 loadbang;
#X obj 397 236 f \$2;
#X obj 184 350 *~ -256;
#X obj 184 331 abs~;
#X obj 184 426 max~ 1;
#X obj 184 274 /~ 256;
#X obj 241 352 + 0.5;
#X obj 184 369 +~ 256.5;
#X obj 184 312 -~ 0.5;
#X obj 223 331 * -1;
#X obj 348 525 outlet~;
#X text 122 565 windowed sine sync;
#X text 347 543 sine sync;
#X obj 141 509 cos~;
#X obj -235 205 abs~;
#X obj -235 224 -~ 1;
#X obj -235 243 *~ -1;
#X text -280 106 fakefilter2 modified to use triangular/sawtooth envelope!
;
#X obj 581 350 outlet~;
#X obj 581 312 *~ 2;
#X obj 581 331 -~ 1;
#X text 579 369 window function;
#X text 304 -28 window shape \, [-1 \, 1];
#X text -278 126 note that the window shape value is limited to -1
\, 1 here!;
#X obj 184 255 expr~ if ($f3<1 \, $v1 \, min($v1 \, $f2));
#X obj 665 -11 inlet;
#X text 701 -14 phase reset;
#X text -83 365 Last revised: 04.27.2013;
#X obj 194 160 spigot 1;
#X obj 205 179 spigot 1;
#X obj 26 154 clip~ -0.999 0.999;
#X obj -235 173 expr~ if($v1 < (1-$v2)/2 \, 2*$v1/(1-$v2) - 1 \, (2*$v1+$v2-1)/(1+$v2))
;
#X obj 665 8 max 1e-006;
#X connect 0 0 28 0;
#X connect 0 0 31 0;
#X connect 0 0 65 0;
#X connect 1 0 13 0;
#X connect 2 0 23 0;
#X connect 3 0 66 0;
#X connect 4 0 7 0;
#X connect 5 0 9 0;
#X connect 5 0 67 0;
#X connect 6 0 4 0;
#X connect 7 0 5 1;
#X connect 8 0 16 0;
#X connect 9 0 30 0;
#X connect 10 0 9 1;
#X connect 10 0 29 0;
#X connect 11 0 12 1;
#X connect 12 0 40 0;
#X connect 13 0 35 0;
#X connect 14 0 15 0;
#X connect 15 0 29 1;
#X connect 15 0 42 0;
#X connect 15 0 60 1;
#X connect 20 0 6 1;
#X connect 20 0 7 1;
#X connect 20 0 14 0;
#X connect 20 0 41 1;
#X connect 20 0 45 0;
#X connect 23 0 20 0;
#X connect 24 0 23 0;
#X connect 25 0 26 0;
#X connect 26 0 27 0;
#X connect 27 0 64 1;
#X connect 27 0 65 1;
#X connect 28 0 25 0;
#X connect 28 0 64 0;
#X connect 29 0 30 1;
#X connect 30 0 49 0;
#X connect 31 0 5 0;
#X connect 31 0 6 0;
#X connect 31 0 10 1;
#X connect 32 0 44 0;
#X connect 35 0 60 0;
#X connect 36 0 37 0;
#X connect 37 0 60 2;
#X connect 38 0 43 0;
#X connect 39 0 38 0;
#X connect 40 0 10 0;
#X connect 41 0 32 0;
#X connect 42 0 43 1;
#X connect 43 0 11 0;
#X connect 43 0 12 0;
#X connect 44 0 39 0;
#X connect 45 0 38 1;
#X connect 49 0 8 1;
#X connect 49 0 46 0;
#X connect 50 0 51 0;
#X connect 51 0 52 0;
#X connect 52 0 8 0;
#X connect 52 0 55 0;
#X connect 55 0 56 0;
#X connect 56 0 54 0;
#X connect 60 0 41 0;
#X connect 61 0 68 0;
#X connect 64 0 25 1;
#X connect 65 0 13 1;
#X connect 66 0 67 1;
#X connect 67 0 50 0;
#X connect 68 0 31 3;
