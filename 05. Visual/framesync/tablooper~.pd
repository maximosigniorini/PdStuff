#N canvas 535 426 858 542 10;
#X obj 301 4 inlet;
#X obj 131 508 outlet~;
#X obj 301 83 purepd/symbol_argument \$1;
#X obj 224 26 loadbang;
#X obj 504 11 inlet;
#X text 544 8 frame # when to play;
#X obj 504 82 purepd/float_argument \$2;
#X obj 104 190 moses;
#X obj 131 210 moses;
#X obj 131 361 -;
#X obj 273 508 outlet;
#X obj 131 481 tabplay~ \$1;
#X msg 301 436 set \$1;
#X obj 32 101 receive framesync/frameclock;
#X text 29 84 current frame #;
#X text 342 3 array to play;
#X obj 674 11 inlet;
#X obj 674 82 purepd/float_argument \$3;
#X text 714 8 frame # when to stop;
#X obj 224 46 trigger bang bang bang bang bang;
#X msg 285 26 bang;
#X obj 208 481 bang;
#X obj 252 238 fps_ms;
#X obj 237 317 samplerate~;
#X obj 237 359 *;
#X obj 252 338 / 1000;
#X obj 131 397 *;
#X obj 131 420 %;
#X obj 224 396 arraysize;
#X msg 212 430 stop;
#N canvas 738 24 450 300 reset 0;
#X obj 191 140 delay;
#X obj 191 119 bang;
#X obj 128 210 purepd/once;
#X obj 221 119 + 1;
#X obj 205 164 receive framesync/reset;
#X obj 13 11 inlet;
#X obj 221 11 inlet;
#X obj 128 250 outlet;
#X obj 242 250 outlet;
#X obj 191 186 bang;
#X obj 91 86 float;
#X obj 91 116 -;
#X text 130 85 if we skipped a frame \, reset;
#X obj 91 137 select -1;
#X text 230 134 if the frameclock stops \, reset;
#X obj 13 50 trigger float float bang float;
#X connect 0 0 9 0;
#X connect 1 0 0 0;
#X connect 2 0 7 0;
#X connect 3 0 0 1;
#X connect 4 0 9 0;
#X connect 5 0 15 0;
#X connect 6 0 3 0;
#X connect 9 0 2 1;
#X connect 9 0 8 0;
#X connect 10 0 11 0;
#X connect 11 0 13 0;
#X connect 13 1 9 0;
#X connect 15 0 2 0;
#X connect 15 1 10 1;
#X connect 15 2 10 0;
#X connect 15 2 1 0;
#X connect 15 3 11 1;
#X restore 131 262 pd reset delay;
#X text 319 508 TODO output messages to send to line \, line~ \, vline~
;
#X connect 0 0 2 0;
#X connect 2 0 12 0;
#X connect 2 0 28 1;
#X connect 3 0 19 0;
#X connect 4 0 6 0;
#X connect 6 0 9 1;
#X connect 6 0 7 1;
#X connect 7 1 8 0;
#X connect 8 0 30 0;
#X connect 9 0 26 0;
#X connect 11 0 1 0;
#X connect 11 1 21 0;
#X connect 12 0 11 0;
#X connect 13 0 7 0;
#X connect 16 0 17 0;
#X connect 17 0 8 1;
#X connect 19 0 23 0;
#X connect 19 0 28 0;
#X connect 19 1 22 0;
#X connect 19 2 2 0;
#X connect 19 3 6 0;
#X connect 19 4 17 0;
#X connect 20 0 19 0;
#X connect 21 0 11 0;
#X connect 22 0 25 0;
#X connect 22 0 30 1;
#X connect 23 0 24 0;
#X connect 24 0 26 1;
#X connect 25 0 24 1;
#X connect 26 0 27 0;
#X connect 27 0 11 0;
#X connect 28 0 27 1;
#X connect 29 0 11 0;
#X connect 29 0 10 0;
#X connect 30 0 9 0;
#X connect 30 1 29 0;
