#N canvas 3 5 1012 718 10;
#X obj 268 36 inlet;
#X text 216 7 open-bang for Loudspeaker_setup;
#X obj 13 26 inlet;
#X text 11 8 ambisonic-order-weight;
#X obj 427 26 inlet;
#X obj 861 638 outlet;
#X text 416 8 LS-message-list-input;
#X text 823 658 LS-message-list-output;
#X obj 42 641 outlet;
#X text 33 659 to bin_ambi_reduced_decode;
#X msg 603 608 calc_reduced \$1;
#X msg 314 208 read \$1 cr;
#X obj 265 163 openpanel;
#X obj 265 204 t b;
#X obj 265 249 t b b;
#X obj 233 374 qlist;
#X msg 258 330 rewind;
#X obj 142 438 t b;
#X msg 83 116 clear;
#X msg 142 480 calc_pinv;
#X obj 268 86 bng 15 250 50 0 empty empty empty 0 -6 0 8 -262144 -1
-1;
#X obj 268 59 route bang;
#X obj 322 89 symbol;
#X obj 323 115 t b s;
#X text 228 18 or filename of LS_setup;
#X msg 328 568 check_HRIR_arrays \$1;
#X msg 470 570 check_HRTF_arrays \$1;
#X obj 912 29 inlet;
#X text 901 11 ambi_order+dim;
#X obj 13 91 t b b b b a b;
#X text 384 434 1.arg: <float> ambi_order;
#X text 384 444 2.arg: <float> ambi_dim;
#X obj 767 499 ambi_order_dim_2_channels \$1 \$2;
#X obj 784 467 init \$1 \$2;
#X text 384 454 3.arg: <float> number of independent loudspeakers;
#X msg 708 624 calc_sym;
#X obj 568 26 inlet;
#X text 557 8 LS-message-list-input;
#X obj 50 313 r \$0_ls_pht;
#X obj 50 335 pp pht_ls;
#X obj 130 46 inlet;
#X text 88 26 ambisonic-mirror-weight;
#X text 384 464 4.arg: <float> number of phantom loudspeakers;
#X text 384 473 5.arg: <float> process-step-time of state-machine in
ms;
#X obj 568 52 pp add \$5 \$0_ls_pht;
#X obj 708 604 del \$5;
#X obj 603 587 for++ 1 25 \$5;
#X obj 603 567 del \$5;
#X obj 470 550 for++ 1 25 \$5;
#X obj 470 530 del \$5;
#X obj 328 548 for++ 1 30 \$5;
#X obj 328 528 del \$5;
#X obj 142 459 del \$5;
#X obj 383 513 init \$3;
#X obj 427 52 pp add \$5 \$0_ls_real;
#X obj 34 271 r \$0_ls_real;
#X obj 34 293 pp real_ls;
#X obj 265 228 del \$5;
#X obj 730 24 inlet;
#X text 712 4 HRIR-wav-message-list-input;
#X obj 730 50 pp add \$5 \$0_HRIR_wav;
#X obj 71 361 r \$0_HRIR_wav;
#X obj 71 382 pp load_HRIR;
#X connect 0 0 21 0;
#X connect 2 0 29 0;
#X connect 4 0 54 0;
#X connect 10 0 8 0;
#X connect 11 0 15 0;
#X connect 12 0 11 0;
#X connect 12 0 13 0;
#X connect 13 0 57 0;
#X connect 14 0 15 0;
#X connect 14 1 16 0;
#X connect 15 1 17 0;
#X connect 16 0 15 0;
#X connect 17 0 52 0;
#X connect 18 0 15 0;
#X connect 19 0 8 0;
#X connect 20 0 12 0;
#X connect 21 0 20 0;
#X connect 21 1 22 0;
#X connect 22 0 23 0;
#X connect 23 0 13 0;
#X connect 23 1 11 0;
#X connect 25 0 8 0;
#X connect 26 0 8 0;
#X connect 27 0 32 0;
#X connect 29 0 15 0;
#X connect 29 1 16 0;
#X connect 29 2 5 0;
#X connect 29 3 18 0;
#X connect 29 4 8 0;
#X connect 32 0 46 1;
#X connect 32 0 48 1;
#X connect 33 0 32 0;
#X connect 35 0 8 0;
#X connect 36 0 44 0;
#X connect 38 0 39 0;
#X connect 39 0 8 0;
#X connect 40 0 8 0;
#X connect 44 0 15 0;
#X connect 45 0 35 0;
#X connect 46 0 10 0;
#X connect 46 1 45 0;
#X connect 47 0 46 0;
#X connect 48 0 26 0;
#X connect 48 1 47 0;
#X connect 49 0 48 0;
#X connect 50 0 25 0;
#X connect 50 1 49 0;
#X connect 51 0 50 0;
#X connect 52 0 19 0;
#X connect 52 0 51 0;
#X connect 53 0 50 1;
#X connect 54 0 15 0;
#X connect 55 0 56 0;
#X connect 56 0 8 0;
#X connect 57 0 14 0;
#X connect 58 0 60 0;
#X connect 60 0 15 0;
#X connect 61 0 62 0;
#X connect 62 0 8 0;
