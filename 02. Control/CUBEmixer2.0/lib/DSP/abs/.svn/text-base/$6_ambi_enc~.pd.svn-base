#N canvas 1318 118 802 582 10;
#X obj 43 226 inlet~;
#X obj 43 329 pp col 1;
#N canvas 18 6 564 404 ambi_weight 0;
#X obj 61 41 inlet;
#X obj 65 344 outlet;
#X obj 61 64 clip 0 1;
#X obj 62 127 * 7;
#X text 135 62 radius is clipped between 0 and 1 (= ambisonic radius)
;
#N canvas 379 48 627 614 /SUBPATCH/ 0;
#X obj 89 31 inlet;
#X obj 54 357 outlet;
#X obj 144 244 wrap;
#X obj 30 153 + 1;
#X obj 32 255 -;
#X text 58 256 k;
#X obj 33 282 *;
#X obj 54 330 +;
#X obj 144 222 + 1;
#X text 245 176 2 point interpolation;
#X obj 90 117 t f f f;
#X obj 91 197 tabread AMBI_WEIGHT/GAIN;
#X obj 30 176 tabread AMBI_WEIGHT/GAIN;
#X obj 162 357 outlet;
#X connect 0 0 10 0;
#X connect 2 0 6 1;
#X connect 2 0 13 0;
#X connect 3 0 12 0;
#X connect 4 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 1 0;
#X connect 8 0 2 0;
#X connect 10 0 3 0;
#X connect 10 1 11 0;
#X connect 10 2 8 0;
#X connect 11 0 7 1;
#X connect 11 0 4 1;
#X connect 12 0 4 0;
#X restore 187 203 pd;
#N canvas 379 48 611 598 _3 0;
#X obj 89 31 inlet;
#X obj 55 421 outlet;
#X obj 30 153 + 1;
#X obj 39 280 -;
#X text 65 281 k;
#X obj 40 307 *;
#X obj 54 330 +;
#X obj 30 176 tabread AMBI_WEIGHT_3;
#X obj 91 197 tabread AMBI_WEIGHT_3;
#X text 187 179 2 point interpolation;
#X obj 186 30 inlet;
#X obj 280 30 inlet;
#X text 280 13 wrap+1;
#X text 170 13 correct_gain;
#X obj 54 364 * 1;
#X obj 89 117 t f f;
#X connect 0 0 15 0;
#X connect 2 0 7 0;
#X connect 3 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 14 0;
#X connect 7 0 3 0;
#X connect 8 0 6 1;
#X connect 8 0 3 1;
#X connect 10 0 14 1;
#X connect 11 0 5 1;
#X connect 14 0 1 0;
#X connect 15 0 2 0;
#X connect 15 1 8 0;
#X restore 185 286 pd _3;
#N canvas 379 48 611 598 _0 0;
#X obj 89 31 inlet;
#X obj 55 421 outlet;
#X obj 30 153 + 1;
#X obj 39 280 -;
#X text 65 281 k;
#X obj 40 307 *;
#X obj 54 330 +;
#X text 187 179 2 point interpolation;
#X obj 186 30 inlet;
#X obj 280 30 inlet;
#X text 280 13 wrap+1;
#X text 170 13 correct_gain;
#X obj 54 364 * 1;
#X obj 89 117 t f f;
#X obj 91 197 tabread AMBI_WEIGHT_0;
#X obj 30 176 tabread AMBI_WEIGHT_0;
#X connect 0 0 13 0;
#X connect 2 0 15 0;
#X connect 3 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 12 0;
#X connect 8 0 12 1;
#X connect 9 0 5 1;
#X connect 12 0 1 0;
#X connect 13 0 2 0;
#X connect 13 1 14 0;
#X connect 14 0 6 1;
#X connect 14 0 3 1;
#X connect 15 0 3 0;
#X restore 44 284 pd _0;
#N canvas 379 48 611 598 _1 0;
#X obj 89 31 inlet;
#X obj 55 421 outlet;
#X obj 30 153 + 1;
#X obj 39 280 -;
#X text 65 281 k;
#X obj 40 307 *;
#X obj 54 330 +;
#X text 187 179 2 point interpolation;
#X obj 186 30 inlet;
#X obj 280 30 inlet;
#X text 280 13 wrap+1;
#X text 170 13 correct_gain;
#X obj 54 364 * 1;
#X obj 89 117 t f f;
#X obj 91 197 tabread AMBI_WEIGHT_1;
#X obj 30 176 tabread AMBI_WEIGHT_1;
#X connect 0 0 13 0;
#X connect 2 0 15 0;
#X connect 3 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 12 0;
#X connect 8 0 12 1;
#X connect 9 0 5 1;
#X connect 12 0 1 0;
#X connect 13 0 2 0;
#X connect 13 1 14 0;
#X connect 14 0 6 1;
#X connect 14 0 3 1;
#X connect 15 0 3 0;
#X restore 91 285 pd _1;
#N canvas 379 48 615 602 _2 0;
#X obj 89 31 inlet;
#X obj 54 389 outlet;
#X obj 30 153 + 1;
#X obj 39 280 -;
#X text 65 281 k;
#X obj 40 307 *;
#X obj 54 330 +;
#X text 201 177 2 point interpolation;
#X obj 186 30 inlet;
#X obj 280 30 inlet;
#X text 280 13 wrap+1;
#X text 170 13 correct_gain;
#X obj 54 364 * 1;
#X obj 89 117 t f f;
#X obj 91 197 tabread AMBI_WEIGHT_2;
#X obj 30 176 tabread AMBI_WEIGHT_2;
#X connect 0 0 13 0;
#X connect 2 0 15 0;
#X connect 3 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 12 0;
#X connect 8 0 12 1;
#X connect 9 0 5 1;
#X connect 12 0 1 0;
#X connect 13 0 2 0;
#X connect 13 1 14 0;
#X connect 14 0 6 1;
#X connect 14 0 3 1;
#X connect 15 0 3 0;
#X restore 135 286 pd _2;
#X msg 61 85 \$1 \$1;
#X obj 61 106 *;
#X obj 65 319 pack 0 0 0 0;
#X obj 62 168 t f f f f f;
#X connect 0 0 2 0;
#X connect 2 0 10 0;
#X connect 3 0 13 0;
#X connect 5 0 6 1;
#X connect 5 0 7 1;
#X connect 5 0 8 1;
#X connect 5 0 9 1;
#X connect 5 1 6 2;
#X connect 5 1 7 2;
#X connect 5 1 8 2;
#X connect 5 1 9 2;
#X connect 6 0 12 3;
#X connect 7 0 12 0;
#X connect 8 0 12 1;
#X connect 9 0 12 2;
#X connect 10 0 11 0;
#X connect 11 0 3 0;
#X connect 12 0 1 0;
#X connect 13 0 7 0;
#X connect 13 1 8 0;
#X connect 13 2 9 0;
#X connect 13 3 6 0;
#X connect 13 4 5 0;
#X restore 101 150 pd ambi_weight;
#X obj 101 171 pp ambi_weight;
#X obj 280 307 switch~;
#X obj 244 139 sel 0 1;
#X obj 280 256 del 50;
#X msg 280 281 0;
#X msg 309 281 1;
#X text 415 387 set throw-name to 0_AMBI \, if not used;
#X msg 244 160 0;
#X msg 273 160 1;
#X obj 381 236 r DSP_MIX_INTERPOL_TIME;
#X obj 304 226 pack 0 0;
#X text 487 178 1.)azimut;
#X text 520 194 2.)elevation;
#X obj 108 580 throw~ 0_AMBI_BUS;
#X obj 122 558 throw~ 0_AMBI_BUS;
#X obj 137 537 throw~ 0_AMBI_BUS;
#X obj 152 514 throw~ 0_AMBI_BUS;
#X obj 167 493 throw~ 0_AMBI_BUS;
#X obj 182 470 throw~ 0_AMBI_BUS;
#X obj 197 448 throw~ 0_AMBI_BUS;
#X obj 213 428 throw~ 0_AMBI_BUS;
#X obj 289 580 throw~ 0_AMBI_BUS;
#X obj 304 558 throw~ 0_AMBI_BUS;
#X obj 321 536 throw~ 0_AMBI_BUS;
#X obj 334 514 throw~ 0_AMBI_BUS;
#X obj 349 493 throw~ 0_AMBI_BUS;
#X obj 364 470 throw~ 0_AMBI_BUS;
#X obj 379 448 throw~ 0_AMBI_BUS;
#X obj 394 426 throw~ 0_AMBI_BUS;
#X obj 244 24 inlet;
#X text 239 5 ambi_on;
#X obj 39 610 outlet~;
#X obj 622 150 t b f;
#X obj 367 146 t b f;
#X obj 367 188 f;
#X obj 367 166 del 0;
#X obj 397 189 loadbang;
#X obj 422 35 loadbang;
#X msg 422 57 0 0;
#X obj 101 23 loadbang;
#X msg 101 45 1;
#X obj 101 193 t b a;
#X obj 43 308 ambi_encode 3;
#X obj 43 356 mtx_*~ 16 1 50 __________________________________;
#N canvas 0 0 969 385 set_name_____________________________________
0;
#X obj 834 10 inlet;
#X obj 832 40 sel 0 1;
#X obj 23 149 outlet;
#X obj 93 149 outlet;
#X obj 163 150 outlet;
#X obj 233 150 outlet;
#X obj 305 150 outlet;
#X obj 375 150 outlet;
#X obj 445 151 outlet;
#X obj 515 151 outlet;
#X obj 593 167 outlet;
#X obj 663 167 outlet;
#X obj 733 168 outlet;
#X obj 803 168 outlet;
#X obj 875 168 outlet;
#X obj 945 168 outlet;
#X obj 1015 169 outlet;
#X obj 1085 169 outlet;
#X msg 808 71 set 0_AMBI_BUS;
#X msg 1084 146 set 16_AMBI_BUS;
#X msg 1015 122 set 15_AMBI_BUS;
#X msg 945 145 set 14_AMBI_BUS;
#X msg 875 121 set 13_AMBI_BUS;
#X msg 803 145 set 12_AMBI_BUS;
#X msg 23 103 set 1_AMBI_BUS;
#X msg 93 126 set 2_AMBI_BUS;
#X msg 163 104 set 3_AMBI_BUS;
#X msg 306 103 set 5_AMBI_BUS;
#X msg 233 127 set 4_AMBI_BUS;
#X msg 375 126 set 6_AMBI_BUS;
#X msg 445 104 set 7_AMBI_BUS;
#X msg 516 127 set 8_AMBI_BUS;
#X msg 594 105 set 9_AMBI_BUS;
#X msg 664 144 set 10_AMBI_BUS;
#X msg 733 121 set 11_AMBI_BUS;
#X connect 0 0 1 0;
#X connect 1 0 18 0;
#X connect 1 1 24 0;
#X connect 1 1 25 0;
#X connect 1 1 26 0;
#X connect 1 1 28 0;
#X connect 1 1 27 0;
#X connect 1 1 29 0;
#X connect 1 1 30 0;
#X connect 1 1 31 0;
#X connect 1 1 32 0;
#X connect 1 1 33 0;
#X connect 1 1 34 0;
#X connect 1 1 23 0;
#X connect 1 1 22 0;
#X connect 1 1 21 0;
#X connect 1 1 20 0;
#X connect 1 1 19 0;
#X connect 18 0 2 0;
#X connect 18 0 3 0;
#X connect 18 0 4 0;
#X connect 18 0 5 0;
#X connect 18 0 6 0;
#X connect 18 0 7 0;
#X connect 18 0 8 0;
#X connect 18 0 9 0;
#X connect 18 0 10 0;
#X connect 18 0 11 0;
#X connect 18 0 12 0;
#X connect 18 0 13 0;
#X connect 18 0 14 0;
#X connect 18 0 15 0;
#X connect 18 0 16 0;
#X connect 18 0 17 0;
#X connect 19 0 17 0;
#X connect 20 0 16 0;
#X connect 21 0 15 0;
#X connect 22 0 14 0;
#X connect 23 0 13 0;
#X connect 24 0 2 0;
#X connect 25 0 3 0;
#X connect 26 0 4 0;
#X connect 27 0 6 0;
#X connect 28 0 5 0;
#X connect 29 0 7 0;
#X connect 30 0 8 0;
#X connect 31 0 9 0;
#X connect 32 0 10 0;
#X connect 33 0 11 0;
#X connect 34 0 12 0;
#X restore 48 387 pd set_name_____________________________________
;
#X obj 367 126 receive_parameter /IN/\$1/AMBI_ELV;
#X obj 622 127 receive_parameter /IN/\$1/AMBI_AZM;
#X obj 101 66 sr_parameter /IN/\$1/AMBI_RAD;
#X obj 212 336 mull~ 0 50;
#X obj 244 186 f;
#X text 535 56 3.order ambisonic encoder;
#X connect 0 0 51 0;
#X connect 1 0 46 0;
#X connect 2 0 3 0;
#X connect 3 0 44 0;
#X connect 5 0 6 0;
#X connect 5 0 10 0;
#X connect 5 1 8 0;
#X connect 5 1 11 0;
#X connect 6 0 7 0;
#X connect 7 0 4 0;
#X connect 7 0 47 0;
#X connect 8 0 4 0;
#X connect 8 0 47 0;
#X connect 10 0 52 0;
#X connect 11 0 52 0;
#X connect 12 0 6 1;
#X connect 12 0 46 2;
#X connect 12 0 51 2;
#X connect 13 0 45 0;
#X connect 32 0 5 0;
#X connect 35 0 38 0;
#X connect 35 1 13 1;
#X connect 36 0 38 0;
#X connect 36 1 37 1;
#X connect 37 0 13 0;
#X connect 38 0 37 0;
#X connect 39 0 13 0;
#X connect 40 0 41 0;
#X connect 41 0 13 0;
#X connect 42 0 43 0;
#X connect 43 0 50 0;
#X connect 44 0 13 0;
#X connect 44 1 45 0;
#X connect 45 0 1 0;
#X connect 46 0 16 0;
#X connect 46 1 17 0;
#X connect 46 2 18 0;
#X connect 46 3 19 0;
#X connect 46 4 20 0;
#X connect 46 5 21 0;
#X connect 46 6 22 0;
#X connect 46 7 23 0;
#X connect 46 8 24 0;
#X connect 46 9 25 0;
#X connect 46 10 26 0;
#X connect 46 11 27 0;
#X connect 46 12 28 0;
#X connect 46 13 29 0;
#X connect 46 14 30 0;
#X connect 46 15 31 0;
#X connect 47 0 16 0;
#X connect 47 1 17 0;
#X connect 47 2 18 0;
#X connect 47 3 19 0;
#X connect 47 4 20 0;
#X connect 47 5 21 0;
#X connect 47 6 22 0;
#X connect 47 7 23 0;
#X connect 47 8 24 0;
#X connect 47 9 25 0;
#X connect 47 10 26 0;
#X connect 47 11 27 0;
#X connect 47 12 28 0;
#X connect 47 13 29 0;
#X connect 47 14 30 0;
#X connect 47 15 31 0;
#X connect 48 0 36 0;
#X connect 49 0 35 0;
#X connect 50 0 2 0;
#X connect 51 0 46 1;
#X connect 52 0 51 1;
